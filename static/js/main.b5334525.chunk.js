(this["webpackJsonpatkcg-news-test"]=this["webpackJsonpatkcg-news-test"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(14),i=n.n(s),r=n(7),l=(n(25),n(9)),o=(n(26),n(2)),j=(n(27),n(28),n(0));function d(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("header",{className:"header",children:[Object(j.jsx)(r.b,{to:"/",className:"header__logo"}),Object(j.jsxs)("nav",{className:"header__navigation",children:[Object(j.jsx)(r.c,{className:"header__navigation-link",activeClassName:"header__navigation-link_type_active-header",exact:!0,to:"/",children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"}),Object(j.jsx)(r.c,{className:"header__navigation-link",activeClassName:"header__navigation-link_type_active-header",to:"/news",children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"}),Object(j.jsx)(r.c,{className:"header__navigation-link",activeClassName:"header__navigation-link_type_active-header",to:"/profile",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})]})]})})}n(38);function u(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("footer",{className:"footer",children:Object(j.jsx)("p",{className:"footer__copyright",children:"\xa9 2022 Aleksandr Nagaev"})})})}var b=n.p+"static/media/main_img.8744ed7f.jpg";function h(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d,{}),Object(j.jsxs)("main",{className:"main",children:[Object(j.jsx)("img",{src:b,alt:"",className:"main__img"}),Object(j.jsxs)("div",{className:"main__caption",children:[Object(j.jsx)("h1",{className:"main__caption-title",children:"Stay informed in 60 words."}),Object(j.jsx)("h2",{className:"main__caption-text",children:"We understand you don\u2019t have time to go through long news articles everyday. So we cut the clutter and deliver them, in 60-word shorts. Short news for the mobile generation."})]})]}),Object(j.jsx)(u,{})]})}n(39);function m(e){var t=e.handleLogin,n=e.isBadRequest,a=Object(c.useState)(""),s=Object(l.a)(a,2),i=s[0],r=s[1],u=Object(c.useState)(""),b=Object(l.a)(u,2),h=b[0],m=b[1],O=Object(c.useState)(!1),g=Object(l.a)(O,2),x=g[0],f=g[1],_=Object(o.g)();Object(c.useEffect)((function(){p()}),[]);var p=function(){var e=localStorage.getItem("user"),t=localStorage.getItem("password");e&&t&&_.push("/profile")};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d,{}),Object(j.jsx)("section",{className:"login",children:Object(j.jsxs)("div",{className:"login-container",children:[Object(j.jsx)("h1",{className:"login__title",children:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!"}),Object(j.jsxs)("form",{name:"login",className:"login__form",onSubmit:function(e){e.preventDefault(),t(i,h),f(!0)},children:[Object(j.jsxs)("ul",{className:"login__form-input-list",children:[Object(j.jsxs)("li",{className:"login__form-input-list-item",children:[Object(j.jsx)("p",{className:"login__form-input-label",children:"Login"}),Object(j.jsx)("input",{name:"user",type:"text",id:"user",onChange:function(e){return r(e.target.value)},className:"login__form-input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d",autoComplete:"off",defaultValue:"",minLength:"2",maxLength:"30",required:!0})]}),Object(j.jsxs)("li",{className:"login__form-input-list-item",children:[Object(j.jsx)("p",{className:"login__form-input-label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(j.jsx)("input",{name:"password",type:"password",id:"password",onChange:function(e){return m(e.target.value)},className:"login__form-input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",autoComplete:"off",defaultValue:"",minLength:"5",maxLength:"35",required:!0})]})]}),x&&n?Object(j.jsx)("span",{className:"login__form-submit_error",children:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435 \u0432\u0435\u0440\u043d\u043e."}):"",Object(j.jsx)("div",{className:"login__form-button-container",children:Object(j.jsx)("button",{type:"submit",className:"login__form-submit","aria-label":"\u0412\u043e\u0439\u0442\u0438",children:"\u0412\u043e\u0439\u0442\u0438"})})]})]})})]})}n(40);function O(e){var t=e.handleLogout;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d,{}),Object(j.jsxs)("section",{className:"profile",children:[Object(j.jsx)("h1",{className:"profile__title",children:"\u041f\u0440\u0438\u0432\u0435\u0442, Admin"}),Object(j.jsx)("button",{type:"button",className:"profile__button-logout",onClick:t,"aria-label":"\u0412\u044b\u0439\u0442\u0438",children:"\u0412\u044b\u0439\u0442\u0438"})]}),Object(j.jsx)(u,{})]})}n(41),n(42),n(43);function g(e){var t=e.card;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"news-card",children:[Object(j.jsx)("img",{src:t.imageUrl,alt:t.title,className:"news-card__image"}),Object(j.jsx)("h2",{className:"news-card__title",children:t.content})]})})}function x(e){var t=e.news;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("section",{className:"news-card-list",children:Object(j.jsx)("ul",{className:"news-card-list__list",children:Array.isArray(t)?t.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)(g,{card:e})},e.id)})):"No news found"})})})}n(44);var f=function(){return Object(j.jsxs)("div",{className:"preloader",children:[Object(j.jsx)("div",{className:"preloader__container",children:Object(j.jsx)("span",{className:"preloader__round"})}),Object(j.jsx)("h2",{className:"preloader__text",children:"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})]})};function _(e){var t=e.news,n=e.isLoading;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d,{}),n?Object(j.jsx)(f,{}):Object(j.jsx)(x,{news:t}),Object(j.jsx)(u,{})]})}n(45);function p(){var e=Object(o.g)();return Object(j.jsxs)("section",{className:"page-not-found",children:[Object(j.jsxs)("div",{className:"page-not-found__title-container",children:[Object(j.jsx)("h1",{className:"page-not-found__title",children:"404"}),Object(j.jsx)("p",{className:"page-not-found__subtitle",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})]}),Object(j.jsx)("button",{type:"button",className:"page-not-found__link",to:"/",onClick:e.goBack,children:"\u041d\u0430\u0437\u0430\u0434"})]})}var N=n(17),v=n(18),w=new(function(){function e(t){var n=t.url;Object(N.a)(this,e),this._url=n}return Object(v.a)(e,[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"getNews",value:function(){return fetch(this._url,{method:"GET"}).then(this._handleResponse)}}]),e}())({url:"https://inshorts.deta.dev/news?category=technology"}),S=n(20),y=n(19),k=["component"],I=function(e){var t=e.component,n=Object(y.a)(e,k);return Object(j.jsx)(o.b,{children:function(){return!0===n.loggedIn?Object(j.jsx)(t,Object(S.a)({},n)):Object(j.jsx)(o.a,{to:"/login"})}})};var L=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!0),i=Object(l.a)(s,2),r=i[0],d=i[1],u=Object(c.useState)(!1),b=Object(l.a)(u,2),g=b[0],x=b[1],f=Object(c.useState)(!1),N=Object(l.a)(f,2),v=N[0],S=N[1];Object(c.useEffect)((function(){k()}),[v]);var y=Object(o.g)();Object(c.useEffect)((function(){L()}),[]);var k=function(){S(!0);var e=JSON.parse(localStorage.getItem("initialNews"));e?(a(e),S(!1)):w.getNews().then((function(e){a(e.data),localStorage.setItem("initialNews",JSON.stringify(e.data)),S(!1)})).catch((function(e){console.log(e)}))},L=function(){var e=localStorage.getItem("user"),t=localStorage.getItem("password");d(!(!e||!t))};return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)("div",{className:"page",children:Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{exact:!0,path:"/",children:Object(j.jsx)(h,{})}),Object(j.jsx)(o.b,{exact:!0,path:"/login",children:Object(j.jsx)(m,{loggedIn:r,handleLogin:function(e,t){"Admin"===e&&"12345"===t?(localStorage.setItem("user",e),localStorage.setItem("password",t),x(!1),d(!0),y.push("/profile")):(x(!0),d(!1),y.push("/login"))},isBadRequest:g})}),Object(j.jsx)(o.b,{exact:!0,path:"/news",children:Object(j.jsx)(_,{news:n,isLoading:v})}),Object(j.jsx)(I,{exact:!0,path:"/profile",loggedIn:r,component:O,handleLogout:function(){localStorage.clear(),d(!1),y.push("/")}}),Object(j.jsx)(o.b,{path:"*",children:Object(j.jsx)(p,{})})]})})})};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(r.a,{children:Object(j.jsx)(L,{})})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.b5334525.chunk.js.map